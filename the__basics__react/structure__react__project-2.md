# Структура react проекта-2

Мы еще немного поработаем над структуройй нашего проекта  и еще на один шаг приблизим ее к той структуре которая используется в крупных комерческих проектах. 

Но чем же нам может не нравиться текущая структура. Ведь у нас уже у каждого компонента есть свой собственный файл и кроме того css для каждого компонента.

Дело в том что это только два файла которые описывают структуру нашего компонента. В реальном проекте есть еще как минимум один файл. Это **unitest** для компонента.

Но и кроме того для корректной работы компонента могут требоваться другие файлы. К примеру иконки. Мы можем хранить дополнительные ресурсы возле компонента. И теперь становится ясно что хранить все эти ресурсы в одной папке может быть не удобно.
По этому для каждого компонента создаем собственную папку. Папки так же называем как компонент. При этом не забываем обновить ссылки в файлах.
Но не нравится писать в каждом import одинаковое название папки и компонента. 

![](../img/the__basics__react/structure__react__project-2/001.jpg)



Хотелось бы писать названия компонентов в import 1-н раз. 
Мы можем сделать что бы компонент импортировался прямо из папки.

В WebPack есть механизм. Если WebPack видит что мы импортируем не файл а папку, внутри этой папке WebPack попробует найти файл который называется **index.js** и если этот файл существует, то это будет default импорт который будет использовать WebPack.

Создаем файл

![](../img/the__basics__react/structure__react__project-2/002.jpg)

И в этом файле мы сделаем такую штуку. Мы импортируем AppHeader из нашего файла который наззззывается AppHeader. 

```
import AppHeader from './app-header';

```

И затем сразу же мы его экспортируем default экспортом

![](../img/the__basics__react/structure__react__project-2/003.jpg)


Теперь поскольку у нас есть index.js. В нашем главном файле который тоже называется index.js

![](../img/the__basics__react/structure__react__project-2/004.jpg)


vs можем два раза не писать, а просто указать путь к папке.

![](../img/the__basics__react/structure__react__project-2/005.jpg)

Сохраняем наш файл. Убедимся что наше приложение не сломалось, и в нашей консоли нет никаких ошибок. Заметьте когда вы будете делать этот рефакторинг может случится что мы получим ошибку о том что файл не найден. В таком случае просто перезагрузите тот скрип который загружен у нас  на фоне

![](../img/the__basics__react/structure__react__project-2/006.jpg)

Иногда бывает что WebPack  не очень хорошо срабатывает когда мы добавляем новые папки или удаляем существующие. Не всегда это изменение корректно обрабатывается. Просто перезапустите dev server  **npm start** если вы видите какие то странные ошибки. Как правило это поможет вернуть проект в нормальное состояние.

Давайте проделаем это для одного компонента и создадим для него отдельную папку.

![](../img/the__basics__react/structure__react__project-2/007.jpg)

![](../img/the__basics__react/structure__react__project-2/008.jpg)

![](../img/the__basics__react/structure__react__project-2/009.jpg)

WebPack не подхватил эти изменения. Поэтому перезагружаем devserver

![](../img/the__basics__react/structure__react__project-2/010.jpg)

Далее проводим рефакторинг для всех оставшихся компонентов.

![](../img/the__basics__react/structure__react__project-2/011.jpg)

Последнее маленькое изменение. Пожалуй вынесем компонент App

![](../img/the__basics__react/structure__react__project-2/012.jpg)

который стал намного больше после того как мы добавили структуру данных со списком дел.

![](../img/the__basics__react/structure__react__project-2/013.jpg)

Этот компонент стал достаточно большим что бы поместить его в отдельный файл. Повторим нашу процедуру.

![](../img/the__basics__react/structure__react__project-2/014.jpg)

И в папке создадим нужные файлы.

![](../img/the__basics__react/structure__react__project-2/015.jpg)

![](../img/the__basics__react/structure__react__project-2/016.jpg)

![](../img/the__basics__react/structure__react__project-2/017.jpg)

Переносим весь код со всеми импортами в папку App

![](../img/the__basics__react/structure__react__project-2/018.jpg)

![](../img/the__basics__react/structure__react__project-2/019.jpg)

Все что мы делаем это получаем App из его соответствующей папки

![](../img/the__basics__react/structure__react__project-2/020.jpg)

![](../img/the__basics__react/structure__react__project-2/021.jpg)

Таким образом структура нашего **components** визуально стало существенно проще и теперь для каждого  компонента у нас еть отдельная папка. И мы четко видим где находятся все ресурсы которые необходимы для корректной работы.

![](../img/the__basics__react/structure__react__project-2/022.jpg)

